install.packages(tidyverse)
install.packages('tidyverse')
install.packages('QUANDL')
readr::read_csv('UGAZ.csv')
a <- readr::read_csv('UGAZ.csv')
a
View(a)
colnames(a)
install.packages("glue")
# analyze ugaz
# 1. Does UGAZ lose more value during rollover period?
library(tidyverse)
library(lubridate)
setwd("C:/Users/My Surface/R-SCRIPTS/ugaz")
getwd()
setwd("C:/Users/My Surface/Documents/R-SCRIPTS/ugaz")
period1 <- cbind(1,2,3,4,5,6,7,8,9,10)
period2 <- cbind(11,12,13,14,15,16,17,18,19,20)
#downloaded data from yahoo, daily for last year
a <- readr::read_csv('UGAZ.csv')
a2018 <- readr::read_csv('UGAZMarch2018-2019.csv')
b <- a %>%
mutate(closeDiff = Close - lag(Close), dayNo = day(Date)) %>%
select(Date, dayNo, closeDiff) %>%
na.omit() %>%
mutate(period = case_when(dayNo %in% period1 ~ "first",
dayNo %in% period2 ~ "second",
TRUE ~ "third"
))
b2018 <- a2018 %>%
mutate(closeDiff = Close - lag(Close), dayNo = day(Date)) %>%
select(Date, dayNo, closeDiff) %>%
na.omit() %>%
mutate(period = case_when(dayNo %in% period1 ~ "first",
dayNo %in% period2 ~ "second",
TRUE ~ "third"
))
install.packages("tidymodels")
install.packages("skimr")
library(tidymodels)
# analyze ugaz
# 1. Does UGAZ lose more value during rollover period?
library(skimr)
skim(b)
ccc(b,closeDiff,period)
ccc(b,closeDiff,dayNo)
linear_reg() %>%
set_engine("lm") %>%
fit(closeDiff~period,data=b)
lmmodel <- linear_reg() %>%
set_engine("lm") %>%
fit(closeDiff~period,data=b)
tidy(lmmodel)
